{
  "title": "Chat messages not delivered to other players via recent_chat",
  "description": "send_chat_message returns {success: true} but recent_chat never appears in any pass_priority result. In game_20260210_170138, Sonnet sent 11 chat messages and Haiku sent 15 — none were received by any player. 0 out of 604 total pass_priority calls across all 4 players contained a recent_chat field.\n\nThe infrastructure exists: handleChatMessage (SkeletonCallbackHandler.java:2541) buffers TALK messages into unseenChat (line 2562), and attachUnseenChat (line 1539) attaches them to pass_priority results. But the buffer is always empty when checked, meaning onChatMessage is never called with TALK messages from other players.\n\nLikely root cause: the headless SessionClient doesn't subscribe to game chat callbacks. session.sendChatMessage() successfully posts outgoing messages, but the client never receives incoming ones. The GUI client likely registers a chat listener that the headless client skips.\n\nEvidence:\n- ~/mage-bench-logs/game_20260210_170138/ — all 4 *_llm.jsonl files: 0 recent_chat fields in any pass_priority tool_call result\n- Sonnet4.5_llm.jsonl: 11 send_chat_message calls, all return {success: true}\n- Haiku4.5_llm.jsonl: 15 send_chat_message calls, all return {success: true}\n- Gem2.5Flash and o4-mini never attempted chat (no incoming messages to react to)\n\nSource: SkeletonCallbackHandler.java:2541-2570 (handleChatMessage), :1539-1549 (attachUnseenChat)\n\nSuggested fix: Check how Mage.Client GUI receives chat callbacks and ensure the headless client registers the same listener. May need to call session.joinChat(chatId) or subscribe to a chat event bus.",
  "status": "open",
  "priority": 2,
  "type": "bug",
  "labels": ["headless-client"],
  "created_at": "2026-02-10T18:30:00.000000-08:00",
  "updated_at": "2026-02-10T18:30:00.000000-08:00"
}
