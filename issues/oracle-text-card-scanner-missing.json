{
  "title": "get_oracle_text always fails for card-name lookups — HeadlessClient never calls CardScanner.scan()",
  "description": "get_oracle_text(card_name=...) always returns 'Card not found in database' because HeadlessClient.java never initializes CardRepository via CardScanner.scan().\n\nEvidence:\n- ~/mage-bench-logs/game_20260210_090609/Gem3Flash_skeleton.jsonl: get_oracle_text({\"card_name\":\"Breena, the Demagogue\"}) returns {\"success\":false,\"error\":\"Card not found in database: Breena, the Demagogue\"}\n- Breena exists in Mage.Sets/src/mage/cards/b/BreenaTheDemagogue.java and Commander2021.java\n- HeadlessClient.java has no CardScanner import or scan() call\n- Both Mage.Server/Main.java:192 and Mage.Client/MageFrame.java:258 call CardScanner.scan()\n\nSource: HeadlessClient.java — missing CardScanner.scan() initialization. SkeletonCallbackHandler.java:2247 calls CardRepository.instance.findCard(cardName) which returns null because the DB was never populated.\n\nImpact: LLM pilots cannot look up oracle text for any card by name. They can only use object_id lookups for cards currently visible in game state.\n\nFix: Add CardScanner.scan() to HeadlessClient.main() after logging setup, before server connection.",
  "status": "closed",
  "priority": 2,
  "type": "task",
  "labels": ["headless-client"],
  "created_at": "2026-02-10T09:30:00.000000-08:00",
  "updated_at": "2026-02-10T09:30:00.000000-08:00"
}
